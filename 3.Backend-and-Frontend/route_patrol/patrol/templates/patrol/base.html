{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %} {% endblock %}</title>
    <link rel="shortcut icon" href="{% static 'favicon.ico' %}" type="image/x-icon">
    
    <!-- Montserrat Font-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap">
   
    <!-- Material Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0">
    
    <!-- FlatPicker-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    <!-- Custom CSS Sub -->
    <link rel="stylesheet" href="{% url 'serve-static-file' 'css/sub/edit-button-style-v.css' %}?v={{ timestamp }}">
    <link rel="stylesheet" href="{% url 'serve-static-file' 'css/sub/delete-button-style-v.css' %}?v={{ timestamp }}">
    <link rel="stylesheet" href="{% url 'serve-static-file' 'css/sub/error-message-style-v.css' %}?v={{ timestamp }}">
    <link rel="stylesheet" href="{% url 'serve-static-file' 'css/sub/user-profile-style-v.css' %}?v={{ timestamp }}">
    <link rel="stylesheet" href="{% url 'serve-static-file' 'css/sub/patrol-table-style-v.css' %}?v={{ timestamp }}">
    <link rel="stylesheet" href="{% url 'serve-static-file' 'css/sub/map-style-v.css' %}?v={{ timestamp }}">
    <link rel="stylesheet" href="{% url 'serve-static-file' 'css/sub/form-style-v.css' %}?v={{ timestamp }}">
    <link rel="stylesheet" href="{% url 'serve-static-file' 'css/sub/progress-style-v.css' %}?v={{ timestamp }}">

    <!-- Custom CSS Main -->
    <link rel="stylesheet" href="{% url 'serve-static-file' 'css/main/settings-style-v.css' %}?v={{ timestamp }}">
    <link rel="stylesheet" href="{% url 'serve-static-file' 'css/main/model-style-v.css' %}?v={{ timestamp }}">
    <link rel="stylesheet" href="{% url 'serve-static-file' 'css/main/calendar-style-v.css' %}?v={{ timestamp }}">
    <link rel="stylesheet" href="{% url 'serve-static-file' 'css/main/root-style-v.css' %}?v={{ timestamp }}">
    <link rel="stylesheet" href="{% url 'serve-static-file' 'css/main/theme-style-v.css' %}?v={{ timestamp }}">
</head>
<body>
    <div class="grid-container">
        <!-- Header -->
        <header class="header">
            <!-- Menu Start -->
            <div class="menu-icon" onclick="openSidebar()">
                <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px">
                    <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/>
                </svg>
            </div>
            <!-- Menu End -->
            
            <!-- Header Left Start -->
            <div class="header-left">
                <div class="web-brand">
                    <h3>City Of Orillia</h3>
                </div>
            </div>
            <!-- Header Left End -->

            <!-- Header Right Start -->
            <div class="header-right" onclick="toggleDropdown()">
                <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" >
                    <path d="M234-276q51-39 114-61.5T480-360q69 0 132 22.5T726-276q35-41 54.5-93T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 59 19.5 111t54.5 93Zm246-164q-59 0-99.5-40.5T340-580q0-59 40.5-99.5T480-720q59 0 99.5 40.5T620-580q0 59-40.5 99.5T480-440Zm0 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q53 0 100-15.5t86-44.5q-39-29-86-44.5T480-280q-53 0-100 15.5T294-220q39 29 86 44.5T480-160Zm0-360q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm0-60Zm0 360Z"/>
                </svg>
                <div id="user-dropdown" class="dropdown-content">
                    <div class="user-info">
                        <span class="user-name">{{user.username}}</span>
                        <span class="user-email">{{user.email}}</span>
                    </div>
                </div>
            </div>
            <!-- Header Right End -->

        </header>
        <!-- End Header -->

        <!-- Sidebar -->
        <aside id="sidebar">
            <!-- Sidebar Top-->
            <div class="sidebar-top">
                <!-- Sidebar Title-->
                <div class="sidebar-title">
                    <div class="close-icon" onclick="closeSidebar()">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" >
                            <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>
                        </svg>
                    </div>
                </div>

                <!-- Sidebar List-->
                <ul class="sidebar-list">
                    <li class="sidebar-list-item" id="{% if request.path == '/dashboard/' %}active{% endif %}">
                        <a href="{% url 'dashboard' %}">
                            <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 -960 960 960" >
                                <path d="M520-600v-240h320v240H520ZM120-440v-400h320v400H120Zm400 320v-400h320v400H520Zm-400 0v-240h320v240H120Zm80-400h160v-240H200v240Zm400 320h160v-240H600v240Zm0-480h160v-80H600v80ZM200-200h160v-80H200v80Zm160-320Zm240-160Zm0 240ZM360-280Z"/>
                            </svg> Dashboard
                        </a>
                    </li>
                    <li class="sidebar-list-item" id="{% if request.path == '/calendar/' %}active{% endif %}">
                        <a href="{% url 'calendar' %}">
                            <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 -960 960 960" >
                                <path d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Zm280 240q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240Z"/>
                            </svg> Calendar
                        </a>
                    </li>
                    <li class="sidebar-list-item" id="{% if request.path == '/model/' %}active{% endif %}">
                        <a href="{% url 'model' %}">
                            <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 -960 960 960" >
                                <path d="M80-120v-80h800v80H80Zm40-120v-280h120v280H120Zm200 0v-480h120v480H320Zm200 0v-360h120v360H520Zm200 0v-600h120v600H720Z"/>
                            </svg> Model
                        </a>
                    </li>
                    <li class="sidebar-list-item" id="{% if request.path == '/settings/' %}active{% endif %}">
                        <a href="{% url 'settings' %}">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                                <path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"/>
                            </svg> Settings
                        </a>
                    </li>                
                  
                </ul>

            </div>

            <!-- Sidebar Bottom-->
            <div class="logout">
                <div class="sidebar-list-item">
                    <a href="{% url 'logout' %}">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h280v80H200Zm440-160-55-58 102-102H360v-80h327L585-622l55-58 200 200-200 200Z"/>
                        </svg> Log Out
                    </a>
                </div>
            </div>
        </aside>

        <!-- Main -->
        <main class="main-container">
            <!-- Main page title-->
            <div class="main-title"> 
                <h3>{% block page_title %}DASHBOARD{% endblock %}</h3>
            </div>

            <!-- Statistics Cards Start -->
            <div class="statistical-cards">                 
                <!-- Total Routes-->
                <div class="card"> 
                    <div class="card-inner"> 
                        <p class="card-title text">Total Routes</p>
                        <h3 class="card-digits" id="total-routes"></h3>
                    </div>
                    <div class="circular-progress" data-percentage="75">
                        <svg>
                            <circle class="background" cx="25" cy="25" r="20"></circle>
                            <circle class="progress progress-blue" cx="25" cy="25" r="20"></circle>
                        </svg>
                        <div class="value-container"></div>
                    </div>
                </div>

                <!-- Predicted Routes-->
                <div class="card"> 
                    <div class="card-inner"> 
                        <p class="card-title text">Predicted Routes</p>
                        <h3 class="card-digits" id="predicted-routes"></h3>
                    </div>
                    <div class="circular-progress" data-percentage="60">
                        <svg>
                            <circle class="background" cx="25" cy="25" r="20"></circle>
                            <circle class="progress progress-orange" cx="25" cy="25" r="20"></circle>
                        </svg>
                        <div class="value-container"></div>
                    </div>
                </div>
            </div>
            <!-- Statistics Cards End -->
            {% block content %}

            {% endblock %}
        </main>
        <!-- End Main-->
    </div>

    <!-- Flat Picker-->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <!-- Leaflet -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    
     <!-- Apex Charts-->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.50.0/apexcharts.min.js" integrity="sha512-h3DSSmgtvmOo5gm3pA/YcDNxtlAZORKVNAcMQhFi3JJgY41j9G06WsepipL7+l38tn9Awc5wgMzJGrUWaeUEGA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- Custom JS Sub -->
    <script src="{% url 'serve-static-file' 'js/sub/error-message-script-v.js' %}?v={{ timestamp }}"></script>
    <script src="{% url 'serve-static-file' 'js/sub/user-profile-script-v.js' %}?v={{ timestamp }}"></script>
    <script src="{% url 'serve-static-file' 'js/sub/form-submit-script-v.js' %}?v={{ timestamp }}"></script>
    <script src="{% url 'serve-static-file' 'js/sub/patrol-table-script-v.js' %}?v={{ timestamp }}"></script>
    <script src="{% url 'serve-static-file' 'js/sub/map-script-v.js' %}?v={{ timestamp }}"></script>
    <script src="{% url 'serve-static-file' 'js/sub/form-script-v.js' %}?v={{ timestamp }}"></script>
    <script src="{% url 'serve-static-file' 'js/sub/progress-script-v.js' %}?v={{ timestamp }}"></script>

    <!-- Custom JS Main -->
    <script src="{% url 'serve-static-file' 'js/main/calendar-script-v.js' %}?v={{ timestamp }}"></script>
    <script src="{% url 'serve-static-file' 'js/main/root-script-v.js' %}?v={{ timestamp }}"></script>
</body>
</html>
